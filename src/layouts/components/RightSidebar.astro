---
import generateToc from "@/util/generateToc";
import { TableOfContents } from "./TableOfContents";

const { headings } = Astro.props;
---

<nav class="sidebar right-sidebar">
  {
    headings && (
      <TableOfContents
        client:media="(min-width: 50em)"
        toc={generateToc(headings)}
      />
    )
  }
</nav>

<style>
  nav {
    width: 100%;
    padding: var(--doc-padding-block) 0;
    overflow: auto;
    font-size: var(--theme-text-xs);
  }

  .sidebar {
    position: fixed;
    top: 0;
    bottom: 0;
    padding: 0;
  }

  .right-sidebar {
    display: none;
    top: var(--theme-navbar-height);
    inset-inline-end: 0;
    width: var(--theme-right-sidebar-width);
  }

  @media (min-width: 94em) {
    .right-sidebar {
      display: flex;
      flex-direction: column;
    }
  }
</style>
